<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="cha-nm-configuration" xml:lang="en">
 <title>NetworkManager configuration and usage</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
  <abstract>
    <para>
      &nm; is shipped so it can run out of the box, but you might need to reconfigure or restart the tool. This chapter focuses on these tasks.
    </para>
  </abstract>
 </info>

<para>
  &nm; stores all network configuration as a connection, which is a collection of data, that describe how to create or connect to a network. A connection is active when a particular device uses the connection. The device may have more than one connections configured, but only one can be active at the given time. The other connections can be used to fast switching to another one, for example, if the active connection is not available, &nm; tries to connect the device to another configured connection.
</para>
<para>
  To manage connections you can use the <command>nmcli</command>, described in the section below.
  </para>
  <para>
    To change how &nm; behaves, change or add values to the configuration file described in <xref linkend="sec-networkmanager-conf"/>.
  </para>

<section xml:id="sec-nmcli-interface">
  <title>The <command>nmcli</command> command</title>
<para>
  The &nm; provides a CLI interface to manage your connections. You can connect to a particular network by using the <command>nmcli</command> interface, or edit a connection. The generic syntax is as follows:
</para>
<screen>&prompt.root;nmcli <replaceable>OPTIONS</replaceable> <replaceable>SUBCOMMAND</replaceable> <replaceable>SUBCOMMAND_ARGUMENTS</replaceable></screen>
<para>
  Where <replaceable>OPTIONS</replaceable> are described in <xref linkend="sec-nmcli-options"/> and <replaceable>SUBCOMMAND</replaceable> can be any of the following:
  </para>
  <variablelist>
    <varlistentry>
      <term><command>connection</command></term>
      <listitem>
        <para>
          enables you to configure network. For details, refer to <xref linkend=""/>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><command>device</command></term>
      <listitem>
        <para>
          For details, refer to <xref linkend=""/>
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><command>general</command></term>
      <listitem>
        <para>shows status and permissions. For details refer to <xref linkend=""/>.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><command>monitor</command></term>
      <listitem>
        <para>
          monitors activity of &nm; and watches for changes in the state of connectivity and devices. This subcommand does not take any arguments.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><command>networking</command></term>
      <listitem>
        <para>querries the networking status. For details refer to <xref linkend=""/>.</para>
      </listitem>
    </varlistentry>
    </variablelist>

    <section xml:id="sec-nmcli-options">
      <title>The <command>nmcli</command> command options</title>
      <para>
        Besides the subcommands and their arguments, the <command>nmcli</command> command can take the following options:
      </para>
      <variablelist>
        <varlistentry>
          <term><option>-a|--ask</option></term>
          <listitem>
            <para>
              the command will stop its run to ask for any missing arguments, for example, for a password to connect to a password.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><option>-c|--color {yes|no|auto}</option></term>
          <listitem>
            <para>
              controls the color output: <literal>yes</literal> to enable the colors, <literal>no</literal> to disable them, <literal>auto</literal> creates color output only when the standard output is directed to a terminal.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><option>-m|--mode {tabular|multiline}</option></term>
          <listitem>
            <para>
              switches between <literal>table</literal> (each line describes a single entry, columns define particular properties of the entry) and <literal>multiline</literal> (each entry comprises more lines, each property is on its own line). <literal>tabular</literal> is the default value.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><option>-h|--help</option></term>
          <listitem>
            <para>
              prints the help.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><option>-w|--wait seconds</option></term>
          <listitem>
            <para>
              sets a time-out period for which to wait for &nm; to finish operations. Using this option is recommend for commands that might take longer to complete, for example, connection activation.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section xml:id="sec-connection-sommand">
      <title>The <command>connection</command> subcommand</title>
      <para>
        The <command>connection</command> command enables you to modify any information about connections. 
      </para>
    </section>

</section>



<section xml:id="sec-networkmanager-conf">
  <title>The <filename>NetworkManager.conf</filename> configuration file</title>
  <para>
    The main configuration file for the &nm; is <filename>/etc/NetworkManager/NetworkManager.conf</filename>
  </para>
</section>

</chapter>